if self.input.refill_buffer(<%= n %>) >= <%= n %>
    && self.input.starts_with("<%= value[0, n].each_char.map { |c| "#{Packcr.escape_character(c)}" }.join %>")
{
    self.input.forward(<%= n %>);
    return throw(<%= onsuccess %>);
}
